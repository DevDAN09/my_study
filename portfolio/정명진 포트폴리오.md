
### 슈도비 프로젝트

2023.08 ~

* **링크**
	* [서비스 링크](https://ssudobi.web.app/landing)
	* [깃허브](https://github.com/gdsc-ssu/ssudobi-api)
	* [서비스 디자인](https://www.figma.com/design/zSWBbks9SntS3Vj9t1mTYG/SSUDobi?node-id=157-503&t=KIEBoFdgI3OasUBd-1)


숭실대학교 교내 도서관 예약 경험 개선 서비스입니다. 기존의 불편했던 예약 UI를 개선해 손쉬운 예약을 만드는 것을 목표로 하고 있습니다. 서비스의 핵심 기능은 원터치 재예약과 한눈에 예약 현황 살펴보기입니다.
40명 정도의 유저를 확보하고 있고 현재도 운영 중인 서비스입니다.

- **사용 스펙**
    Python, Next.js, AWS Lambda, S3, Docker, boto3, requests, pytest

- **맡은 일**
	- 팀 설계
    - 프로젝트 핵심 목표 및 해결할 문제 정의, 기획문서 작성.
	    - 기존 도서관 프로그램에 불편이 많이 존재한다는 것을 교내 커뮤니티에서 확인
    - 구체적인 기능 기획 및 WBS 작성
    - 디자인 및 전반적인 페이지 레이아웃 구성 참여
	* 프로젝트 일정 관리 및 QA 시트 작성
	* **AWS 람다를 활용한 세미나실 예약 현황 캐싱 서버 구축**
		* 교내 서비스는 하루 단위의 예약 현황만을 전달했기 때문에 일주일간의 데이터를 보여주기 위해서는 7번의 API 콜이 필요 했음. 응답속도 개선을 위해 일주일간의 예약 내역을 미리 S3에 저장한 뒤 유저에게 반환하는 캐싱 서버 구축
		* 엘라스틱 캐시 도입을 고민했으나 캐싱 데이터가 단 크지 않고 비용적인 측면을 고려해 S3로 선정
		* 람다를 재배포해 테스트하는 과정이 번거로워 로컬 테스트 진행 위해 도커 기반의 람다 컨테이너를 사용하고 ECR에 존재하는 이미지 파일로 배포
	* **교내 구성원과의 미팅을 통해 서비스 운영권 확보**
		* 도서관 측에 해당 서비스의 필요성 설득을 위한 제안서 제출
		* 운영권 확보를 위해 도서관장 및 관내 전산팀 설득
    - **교내 도서관 API 구조 파악**
	    - 교내 도서관 로그인 API 구조를 파악하고 Crypto JS를 사용하는 교내 로그인 페이지의 보안 로직을 분석해 슈도비에서 사용할 수 있게 토큰을 추출하는 방법을 정의함.
		    - 교내 도서관 서비스는 프론트단에서 폼에 입력된 비밀번호를 AES 암호화한 후 로그인하는 방식으로 구현돼 있었음
		    - 분석을 위해선 js 로직을 살펴볼 필요가 존재했는데 압축 알고리즘 등이 적용돼 있어서 10만줄 짜리 단일 js 파일을 분석해야 했음. 크롬 도구를 통해 디버깅을 진행하며 암호화의 구조를 파악함
		    - 코드가 난독화 돼 있어 파악에 어려움이 컸음. 코드조각을 검색해 보고 분석하던 도중 CryptoJS를 사용한 것이란 걸 파악했고 난독화가 돼지 않은 원본 코드를 확인할 수 있었음
		    - 난독화 되지 않은 코드와 비교하며 암호화 로직을 파악할 수 있었고 AES 암호화에 필요한 키를 추출할 수 있었음
	    - 교내 도서관에서 로그인 토큰을 활용해 호출하는 실제 세미나실 예약, 삭제, 조회 등의 API 구조를 분석해 프론트엔드 개발자들이 서비스에 연결할 수 있게함.
![](https://obs3dian.s3.ap-northeast-2.amazonaws.com/%EC%A0%95%EB%AA%85%EC%A7%84%20%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4%20/%20%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-06-28%20%EC%98%A4%ED%9B%84%204.18.04.png)

- **서비스 소개**
![](https://obs3dian.s3.ap-northeast-2.amazonaws.com/%EC%A0%95%EB%AA%85%EC%A7%84%20%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4%20/%20%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%93%9C1.png)
	이는 실제 교내 도서관 앱에서 세미나실을 예약 할 때의 플로우다. 한번에 하나의 세미나실 만을 확인 할 수 있고 여러 명이서 회의 할 경우 모든 동반 이용자의 학번과 이름을 일일이 추가 해줘야 한다.
![](https://obs3dian.s3.ap-northeast-2.amazonaws.com/%EC%A0%95%EB%AA%85%EC%A7%84%20%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4%20/%20%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%93%9C2%201.png)
	슈도비를 사용하면 한번 같이 예약을 한 모든 동반 이용자 정보가 기록돼 재사용 할 수 있다. 또한 일주일간의 세미나실 예약 현황을 한눈에 보여주기 때문에 불편하게 날짜를 이동하며 예약 현황을 확인할 필요가 없다. **추가로 만약 동일한 예약 정보를 재사용 한다면 템플릿 기능을 통해 다음 주에 동일한 예약을 추가할 수 있다.**

___
### Obs3dian

2024.05 ~ 2024.06

* **링크**
	* [깃허브](https://github.com/thinkjin99/obs3dian)
	* [PIP](https://pypi.org/project/obs3dian/)

옵3디언은 옵시디언에서의 이미지 관리를 도와주는 도구로 옵시디언에 첨부한 로컬 이미지를 S3에 업로드해 어느 곳에서든 md 파일만으로 이미지를 확인할 수 있게 해줍니다. 편리한 스터디 자료 공유를 위해 제작했습니다.

옵3디언을 사용하면 `![[test.jpeg|500]]` 와 같은 로컬 링크를`![](https://YOUR_BUCKET.s3.YOUR_REGION.amazonaws.com/test.png)`와 같은 외부 S3링크로 변환해 줍니다.

* **사용 스펙**
	Python, Poetry, Typer, boto3

* **사용 예시**
```bash
$ obs3dian run [your mark down path (file or directory)]

Processing  [############################--------]   78%
Finished    [README.md]

Processing  [#############################-------]   82%
Finished    [CONTRIBUTING.md]

Processing  [###############################-----]   86%
Finished    [LINKS.md] 

Processing  [################################----]   91%
Finished    [SUPPORTED_PLATFORMS.md]

Processing  [##################################--]   95%
Finished    [ISSUE_TEMPLATE.md]

Processing  [####################################]  100%

Total converts: 23 obs3dian is successfully finished
```

* **맡은 일**
	* 이미지 저장을 위한 퍼블릭 버킷 생성 기능 구현
	* **유저가 지정한 버킷에 멀티 쓰레딩 기반으로 이미지 업로드 기능 구현**
		* 기존에는 비동기를 활용해 전체 업로드를 진행하려 했으나 이 경우 각 md 파일 별로 업로드 현황을 추적하기 어려웠고 업로드에 실패하는 이미지가 존재할 때 예외 처리의 어려움이 존재했음
		* 이에 따라 각 쓰레드 별로 하나의 마크다운 파일 내부에 존재하는 업로드 작업만 진행하게 하고 업로드 작업이 독립적으로 진행되게 설계를 변경함
	* **로컬 이미지 링크를 정규식으로 추출하고 이를 업로드한 S3 링크로 대체하는 기능 개발**
		* 로컬 이미지 링크가 존재하는 줄을 감지해 저장 후 파일의 업로드가 완료되면 링크로 대체하는 방식으로 구현함
		* 옵시디언에서 이미지 링크를 삽입하는 방식이 여러 개이고 이미지에 다양한 메타데이터를 추가할 수 있어 이러한 경우에 대응하기 위한 어려움이 존재했었음. 다양한 테스트 케이스를 구현해 이를 해결함.
	* **파일 업로드 현황 노출을 위한 CLI 애니메이션 제작**
		* 파일 업로드가 진행 중이라는 것을 나타내기 위해 애니메이션을 제작. 애니메이션은 파일 업로드 작업에 블락킹 되면 안 되므로 별도의 쓰레드에서 동작하게 구현함.
	* typer를 활용한 CLI 인터페이스 제작
	* PIP를 활용한 패키지 배포
___


